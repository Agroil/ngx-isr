// this script tag will be included in the page if one of the routes on the page
// has `revalidate` key in its route data
const isrScriptTag = '<script id="isr-state" type="application/json">';
export function getISROptions(html) {
    const indexOfScriptTag = html?.indexOf(isrScriptTag);
    // check if script tag is not included
    if (!html || indexOfScriptTag === -1) {
        return { revalidate: null, errors: [] };
    }
    const isrScript = html.substring(indexOfScriptTag); // start from script till the end of html file
    const indexOfCloseScriptTag = isrScript.indexOf("</script>"); // first occurrence of closing script tag
    const val = isrScript
        .substring(0, indexOfCloseScriptTag) // remove close script tag
        .replace(isrScriptTag, ""); // remove start script tag
    return JSON.parse(val);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LWlzci1vcHRpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWlzci9zcmMvbGliL3V0aWxzL2dldC1pc3Itb3B0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxnRkFBZ0Y7QUFDaEYseUNBQXlDO0FBQ3pDLE1BQU0sWUFBWSxHQUFHLGlEQUFpRCxDQUFDO0FBRXZFLE1BQU0sVUFBVSxhQUFhLENBQUMsSUFBWTtJQUN4QyxNQUFNLGdCQUFnQixHQUFHLElBQUksRUFBRSxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFckQsc0NBQXNDO0lBQ3RDLElBQUksQ0FBQyxJQUFJLElBQUksZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDcEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDO0tBQ3pDO0lBRUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsOENBQThDO0lBQ2xHLE1BQU0scUJBQXFCLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLHlDQUF5QztJQUV2RyxNQUFNLEdBQUcsR0FBRyxTQUFTO1NBQ2xCLFNBQVMsQ0FBQyxDQUFDLEVBQUUscUJBQXFCLENBQUMsQ0FBQywwQkFBMEI7U0FDOUQsT0FBTyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUMsQ0FBQSxDQUFDLDBCQUEwQjtJQUV2RCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTUk9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMnO1xuXG4vLyB0aGlzIHNjcmlwdCB0YWcgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcGFnZSBpZiBvbmUgb2YgdGhlIHJvdXRlcyBvbiB0aGUgcGFnZVxuLy8gaGFzIGByZXZhbGlkYXRlYCBrZXkgaW4gaXRzIHJvdXRlIGRhdGFcbmNvbnN0IGlzclNjcmlwdFRhZyA9ICc8c2NyaXB0IGlkPVwiaXNyLXN0YXRlXCIgdHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIj4nO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SVNST3B0aW9ucyhodG1sOiBzdHJpbmcpOiBJU1JPcHRpb25zIHtcbiAgY29uc3QgaW5kZXhPZlNjcmlwdFRhZyA9IGh0bWw/LmluZGV4T2YoaXNyU2NyaXB0VGFnKTtcblxuICAvLyBjaGVjayBpZiBzY3JpcHQgdGFnIGlzIG5vdCBpbmNsdWRlZFxuICBpZiAoIWh0bWwgfHwgaW5kZXhPZlNjcmlwdFRhZyA9PT0gLTEpIHtcbiAgICByZXR1cm4geyByZXZhbGlkYXRlOiBudWxsLCBlcnJvcnM6IFtdIH07XG4gIH1cblxuICBjb25zdCBpc3JTY3JpcHQgPSBodG1sLnN1YnN0cmluZyhpbmRleE9mU2NyaXB0VGFnKTsgLy8gc3RhcnQgZnJvbSBzY3JpcHQgdGlsbCB0aGUgZW5kIG9mIGh0bWwgZmlsZVxuICBjb25zdCBpbmRleE9mQ2xvc2VTY3JpcHRUYWcgPSBpc3JTY3JpcHQuaW5kZXhPZihcIjwvc2NyaXB0PlwiKTsgLy8gZmlyc3Qgb2NjdXJyZW5jZSBvZiBjbG9zaW5nIHNjcmlwdCB0YWdcblxuICBjb25zdCB2YWwgPSBpc3JTY3JpcHRcbiAgICAuc3Vic3RyaW5nKDAsIGluZGV4T2ZDbG9zZVNjcmlwdFRhZykgLy8gcmVtb3ZlIGNsb3NlIHNjcmlwdCB0YWdcbiAgICAucmVwbGFjZShpc3JTY3JpcHRUYWcsIFwiXCIpIC8vIHJlbW92ZSBzdGFydCBzY3JpcHQgdGFnXG5cbiAgcmV0dXJuIEpTT04ucGFyc2UodmFsKTtcbn1cbiJdfQ==